Лаб. работа 7:
Цель: Реализовать на практике динамический алгоритм построения выпуклой оболочки.
Задача: На плоскости, последовательно, случайным образом или по щелчку мышки генерируются точки. 
После добавления каждой новой точки обновляется выпуклая оболочка, построенная по всем уже существующим точкам.
Создать соответствующую анимацию.
Алгоритм:
На каждом шаге изначально проверяем новую точку на совпадение с уже существующими.
В алгоритме выделяется 4 стадии:
1. Если в множестве только 1 точка p1, то выпуклая оболочка CH = {p1}.
2. Если в множестве ровно 2 различные точки p1 и p2, то выпуклая оболочка CH = {p1, p2}.
3. Если в CH ровно 2 точки {p1, p2} и добавляется точка p3, то выделяются следующие случаи:
3.1 Если все 3 точки p1, p2, p3 лежат на одной прямой, то CH = {pi, pj}. 
Здесь pi, pj - крайние точки отрезка содержащего третью точку pk.
Индексы i, j, k выбираются из множества {1,2,3}. Точка pk - внутри отрезка pi, pj если угол между векторами 
(pk pi) и (pk pj) равен 180 градусам, т.е. скалярное произведение векторов (pk pi) и (pk pj) меньше нуля.
3.2 Если 3 точки p1, p2, p3 НЕ лежат на одной прямой, то необходимо задать правильную ориентацию многоугольника выпуклой оболочки.
Проверяем положение p3 относительно прямой p1,p2. 
Если p3 левее прямой p1,p2, то CH = {p1, p2, p3}.
Если p3 правее прямой p1,p2, то CH = {p1, p3, p2}.
4. Если в CH  = {p1,..., pk} k точек (k > 3) и добавляется точка ps.
В цикле проходим по всем индексам от i = 1 до k (точка с индексом (k + 1) дублирует точку с индексом 1).
Находим все стороны pi,p(i+1) для которых ps находится правее и собираем их в множестве RIGHT. 
После работы цикла возможны следующие ситуации:
4.1 Если RIGHT = {}, то CH не изменяется.
4.2 Если RIGHT = {(p(j1),p(j2)), (p(j2),p(j3)), ..., (p(j(m - 1)),p(jm))} и j1 > 1 и jm < n, то 
CH = {p1, p2, ..., pj1, ps, pjm, ..., pk}.
4.3 Если RIGHT = {(p1,p2), ..., (p(j-1),pj), (p(m - 1)),pm), (p(k -1),pk)}, то 
CH = {ps, pj, ..., pm}.
Замечание:
Геометрически разница в ситуациях 4.2 и 4.3 возникает из-за расположение ps относительно стороны pk,p1.
Если ps относительно стороны pk,p1 - левее, то 4.2 иначе 4.3.

Литература:
- Препарата, Шеймос, Вычислительная геометрия: Введение.
Раздел: 3.3.6 Динамические алгоритмы построения выпуклой оболочки.
- Можно найти описания и в интернет
